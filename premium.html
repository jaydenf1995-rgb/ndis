<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Premium Listings - NDIS Service Finder</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<header>
    <div class="container">
        <div class="header-content">
            <h1>NDIS Service Finder</h1>
            <p class="slogan">Help at your fingertips</p>
        </div>
        <nav>
            <a href="index.html">Home</a>
            <a href="add.html">Add a Service</a>
            <a href="blog.html">News & Resources</a>
	    <a href="#" id="logoutBtn" style="display: none;">Logout</a>
	    <a href="privacy.html">Privacy Policy</a>
        </nav>
    </div>
</header>

<main class="container">
    <section class="premium-header">
        <h1>‚ú® Premium Service Listings</h1>
        <p>Stand out from the crowd and get more clients with a premium listing</p>
    </section>

    <!-- Service Info (if coming from a specific service) -->
    <div id="serviceInfo" class="service-info-card" style="display: none;">
        <h3>Upgrading: <span id="upgradeServiceName"></span></h3>
        <p>Location: <span id="upgradeServiceLocation"></span></p>
    </div>

    <!-- Pricing Plans -->
    <section class="pricing-section">
        <h2>Choose Your Plan</h2>
        <div class="pricing-grid">
            <div class="pricing-card">
                <div class="plan-header">
                    <h3>Free</h3>
                    <div class="price">$0<span>/month</span></div>
                </div>
                <ul class="plan-features">
                    <li>‚úì Basic listing visibility</li>
                    <li>‚úì One photo upload</li>
                    <li>‚úì Contact information</li>
                    <li>‚úì Service description</li>
                    <li>‚úì Category listing</li>
                    <li>‚úó Standard search placement</li>
                    <li>‚úó No premium badge</li>
                </ul>
                <div class="plan-action">
                    <button class="secondary-btn" disabled>Current Plan</button>
                </div>
            </div>

            <div class="pricing-card featured">
                <div class="plan-badge">Most Popular</div>
                <div class="plan-header">
                    <h3>Premium</h3>
                    <div class="price">$49.99<span>/month</span></div>
                </div>
                <ul class="plan-features">
                    <li>‚úì Featured placement in search results</li>
                    <li>‚úì Premium verification badge</li>
                    <li>‚úì Up to 5 photos</li>
                    <li>‚úì Priority customer support</li>
                    <li>‚úì Enhanced service description</li>
                    <li>‚úì Analytics dashboard</li>
                    <li>‚úì Email notifications for new reviews</li>
                </ul>
                <div class="plan-action">
                    <button id="upgradeButton" class="primary-btn">Upgrade to Premium</button>
                    <p class="plan-note">Cancel anytime ‚Ä¢ 30-day visibility boost</p>
                </div>
            </div>

            <div class="pricing-card">
                <div class="plan-header">
                    <h3>Enterprise</h3>
                    <div class="price">$99.99<span>/month</span></div>
                </div>
                <ul class="plan-features">
                    <li>‚úì All Premium features</li>
                    <li>‚úì Top placement in search results</li>
                    <li>‚úì Dedicated account manager</li>
                    <li>‚úì Custom branding options</li>
                    <li>‚úì Advanced analytics</li>
                    <li>‚úì Multi-location support</li>
                    <li>‚úì API access</li>
                </ul>
                <div class="plan-action">
                    <button class="secondary-btn" disabled>Coming Soon</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Comparison -->
    <section class="features-section">
        <h2>Why Go Premium?</h2>
        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">üëë</div>
                <h3>Featured Placement</h3>
                <p>Get shown at the top of search results where clients look first</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">‚≠ê</div>
                <h3>Premium Badge</h3>
                <p>Stand out with a verified premium badge that builds trust</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">üìà</div>
                <h3>More Visibility</h3>
                <p>Get up to 3x more views and contact requests</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">üñºÔ∏è</div>
                <h3>Multiple Photos</h3>
                <p>Showcase your service with up to 5 high-quality images</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">üöÄ</div>
                <h3>Priority Support</h3>
                <p>Get fast responses from our dedicated support team</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">üìä</div>
                <h3>Performance Analytics</h3>
                <p>Track views, contacts, and performance metrics</p>
            </div>
        </div>
    </section>

    <!-- Testimonials -->
    <section class="testimonials-section">
        <h2>What Our Premium Partners Say</h2>
        <div class="testimonials-grid">
            <div class="testimonial-card">
                <div class="testimonial-content">
                    "Since upgrading to premium, we've seen a 200% increase in client inquiries. The featured placement makes all the difference!"
                </div>
                <div class="testimonial-author">
                    <strong>Sarah Johnson</strong><br>
                    <span>Support Coordinator, Sydney</span>
                </div>
            </div>
            <div class="testimonial-card">
                <div class="testimonial-content">
                    "The premium badge gives our service instant credibility. Clients trust that we're a verified, quality provider."
                </div>
                <div class="testimonial-author">
                    <strong>Michael Chen</strong><br>
                    <span>OT Services, Melbourne</span>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section class="faq-section">
        <h2>Frequently Asked Questions</h2>
        <div class="faq-grid">
            <div class="faq-item">
                <h3>How does billing work?</h3>
                <p>You're billed monthly. Cancel anytime - no long-term contracts required.</p>
            </div>
            <div class="faq-item">
                <h3>When will my premium features activate?</h3>
                <p>Immediately after payment! Your listing will be upgraded within minutes.</p>
            </div>
            <div class="faq-item">
                <h3>Can I switch back to free?</h3>
                <p>Yes, you can cancel your premium subscription at any time. Your listing will revert to free at the end of your billing period.</p>
            </div>
            <div class="faq-item">
                <h3>Do you offer discounts?</h3>
                <p>We offer special rates for registered NDIS providers and multiple locations. Contact us for details.</p>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="contact-section">
        <div class="contact-card">
            <h2>Questions About Premium?</h2>
            <p>Our team is here to help you get the most out of your listing.</p>
            <div class="contact-actions">
                <a href="mailto:support@ndisservicefinder.com" class="contact-btn">‚úâÔ∏è Email Support</a>
                <a href="tel:+61000000000" class="contact-btn">üìû Call Us</a>
            </div>
        </div>
    </section>
</main>

<footer>
    <div class="container">
        <p>&copy; 2025 NDIS Service Finder. All rights reserved.</p>
    </div>
</footer>

<script>
// Get service ID from URL if provided
const urlParams = new URLSearchParams(window.location.search);
const serviceId = urlParams.get('id');

// Load service info if we have a service ID
if (serviceId) {
    loadServiceInfo(serviceId);
}

// Setup upgrade button
document.getElementById('upgradeButton').addEventListener('click', function() {
    if (serviceId) {
        upgradeToPremium(serviceId);
    } else {
        alert('Please go to your service listing and click "Upgrade to Premium" from there.');
        window.location.href = 'index.html';
    }
});

async function loadServiceInfo(serviceId) {
    try {
        const response = await fetch(`/api/service/${serviceId}`);
        const service = await response.json();

        document.getElementById('serviceInfo').style.display = 'block';
        document.getElementById('upgradeServiceName').textContent = service.name;
        document.getElementById('upgradeServiceLocation').textContent = service.location;

        // Check if already premium
        const premiumResponse = await fetch(`/api/service/${serviceId}/premium`);
        const premiumInfo = await premiumResponse.json();

        if (premiumInfo.isPremium) {
            document.getElementById('upgradeButton').textContent = 'Already Premium';
            document.getElementById('upgradeButton').disabled = true;
            document.getElementById('upgradeButton').style.background = '#4CAF50';
        }

    } catch (error) {
        console.error('Error loading service info:', error);
    }
}

async function upgradeToPremium(serviceId) {
    const button = document.getElementById('upgradeButton');
    const originalText = button.textContent;

    button.disabled = true;
    button.textContent = 'Processing...';

    try {
        // In a real application, you would integrate with Stripe here
        // For now, we'll simulate the payment process
        
        if (!confirm('Upgrade to Premium for $49.99/month? This will activate immediately.')) {
            button.disabled = false;
            button.textContent = originalText;
            return;
        }

        const response = await fetch(`/api/service/${serviceId}/upgrade`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            }
        });

        const result = await response.json();

        if (response.ok) {
            alert('üéâ Success! Your service has been upgraded to Premium!');
            button.textContent = 'Premium Active';
            button.style.background = '#4CAF50';
            button.disabled = true;
            
            // Redirect to service page after 2 seconds
            setTimeout(() => {
                window.location.href = `service.html?id=${serviceId}`;
            }, 2000);
        } else {
            alert('Error: ' + (result.error || 'Failed to upgrade service'));
            button.disabled = false;
            button.textContent = originalText;
        }

    } catch (error) {
        console.error('Error upgrading service:', error);
        alert('Network error. Please try again.');
        button.disabled = false;
        button.textContent = originalText;
    }
}
</script>
</body>
</html>